<!DOCTYPE html>
<html>
    <head>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
        <title>Template Website</title>
    </head>
    <body>
        <header>
            <ul>
                <li><a class="active" href="index.html">Home</a></li>
                <li><a href="vis1.html">Visualization 1</a></li>
                <li><a href="vis2.html">Visualization 2</a></li>
                <li><a href="summarystats.html">Summary statistics</a></li>

                <div class="data">
                    <br>
                    <p>Data Selection</p>
                    <a href="hierarchical-edge-bundling.html"> 
                        <input type="button" class="button" value="All Data"> <br>
                    </a>
                    <input type="button" class="button" value="Employee" onclick="employeeFunction()"> <br>
                    <input type="button" class="button" value="CEO" onclick="ceoFunction()"> <br>
                    <input type="button" class="button" value="In House Lawyer" onclick="ihlFunction()"> <br>
                    <input type="button" class="button" value="Manager" onclick="managerFunction()"> <br>
                    <input type="button" class="button" value="Managing Director" onclick="mdFunction()"> <br>
                    <input type="button" class="button" value="President" onclick="presidentFunction()"> <br>
                    <input type="button" class="button" value="Trader" onclick="traderFunction()"> <br>
                    <input type="button" class="button" value="Vice President" onclick="vpFunction()"> <br>
                </div>
                    
            </ul>
            <script type="text/javascript">

                data =[]
                fetch("./data.json")
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                      var count = d3.nest() 
                        .key(function(d) { return d.name; })
                       .rollup(function(v) { return v.length; })
                        .entries(data);
            // counting the amount of job titles
                        var titles = []
                        var counts = []
                        for (const [key, value] of count.entries()) {
                          titles.append(key);
                          counts.append(value);
                        
            }
            // making the chart
            var chart = new Chart('chart', {
                type: 'horizontalBar',
                data: {
                  labels: titles,
                  datasets: [
                    {
                      data: counts
                    }
                  ]
                }
                        })
                    ;
            
            
            
            </script>
        </header>
        <div class="middle">
            <h1> Summary Statistics </h1>
            
        </div>
    </body>
</html>